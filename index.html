<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Translation with Review Option</title> <!-- Updated Title -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="upload-container">
        <h1>Video Translation with Review Option</h1>

        <!-- Input Section (Initial Trigger) -->
        <div id="inputSection">
            <!-- Step 1: Video Source -->
            <div class="input-section">
                <h2>1. Provide Video Source</h2>
                <input type="file" id="videoFile" accept="video/mp4,video/quicktime,video/x-msvideo,video/x-matroska,video/webm,video/x-flv,video/mpeg" style="display: none;">
                <button id="uploadButton" class="action-button">Choose Video File</button>
                <div id="fileFeedback" class="feedback-item">No file selected.</div>
                <hr class="separator mini-separator"> <!-- Mini separator -->
                <label for="youtubeUrl" style="display: block; margin-bottom: 5px; font-weight: bold; color: #555;">Or Enter YouTube URL:</label>
                <input type="url" id="youtubeUrl" placeholder="e.g., https://www.youtube.com/watch?v=..." class="url-input">
                <button id="processUrlButton" class="action-button">Process YouTube URL</button>
            </div>


             <!-- Step 2: Options -->
             <div class="options-section">
                  <h2>2. Select Options</h2>
                  <!-- Voice Options -->
                  <div id="voiceOptionsContainer">
                      <h3 class="sub-heading">Voice Preference:</h3>
                      <div class="voice-options">
                          <label for="voiceFemale">
                              <input type="radio" id="voiceFemale" name="ttsVoice" value="female" checked> Female Voice
                          </label>
                          <label for="voiceMale">
                              <input type="radio" id="voiceMale" name="ttsVoice" value="male"> Male Voice
                          </label>
                      </div>
                  </div>
                  <hr class="separator mini-separator">
                   <!-- Review Options -->
                   <div id="reviewOptionsContainer">
                       <h3 class="sub-heading">Processing Mode:</h3>
                       <div class="review-options"> <!-- Use new class -->
                           <label for="prefDirect">
                               <input type="radio" id="prefDirect" name="reviewPreference" value="direct" checked> Direct Process (No Review)
                           </label>
                           <label for="prefReview">
                               <input type="radio" id="prefReview" name="reviewPreference" value="review"> Review Translated Text Before Finalizing
                           </label>
                       </div>
                   </div>
             </div>
        </div><!-- End Input Section -->


        <!-- Shared Feedback Area -->
        <div id="mainFeedbackArea" class="feedback-area" style="margin-top: 25px;">
            Ready for input. Select options and provide video source.
        </div>

        <!-- Shared Progress Indicator -->
        <div id="progressIndicator" class="progress-indicator" style="display: none;">
            Processing... <span id="progressStep"></span>
            <div class="spinner"></div>
        </div>

        <!-- Review Section (For Review Mode) - Initially Hidden -->
        <div id="reviewSection" style="display: none; margin-top: 30px; text-align: left; border-top: 1px solid #ccc; padding-top: 20px;">
            <h2>Review & Edit Translations</h2> <!-- Changed heading slightly -->
            <p>Review the automatically translated text below. The original transcription and audio chunk download are provided for context. Edit the <strong>translated text</strong> as needed before submitting.</p>
            <input type="hidden" id="currentJobId">
            <div id="reviewContent">
                <!-- Content loaded by JS -->
            </div>
            <button id="submitEditsButton" class="action-button" style="margin-top: 20px; width: 100%; background-color: #28a745; border-color: #28a745;">Submit Edits & Generate Final Video</button>
        </div>

    </div>

    <script src="script.js"></script>
</body>
</html>
